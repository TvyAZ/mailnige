# ğŸ”§ HÆ¯á»šNG DáºªN ADMIN SETTINGS

## âœ¨ TÃ­nh nÄƒng má»›i: Chá»‰nh sá»­a cÃ i Ä‘áº·t trá»±c tiáº¿p trÃªn Bot

### ğŸ“± **CÃ¡ch sá»­ dá»¥ng:**

1. **Truy cáº­p Settings:**
   - Nháº¥n nÃºt `âš™ï¸ CÃ i Ä‘áº·t` (persistent keyboard)
   - Hoáº·c sá»­ dá»¥ng menu inline â†’ Admin Settings

2. **CÃ¡c tÃ¹y chá»n cÃ³ thá»ƒ chá»‰nh sá»­a:**

   ğŸ“§ **ThÃ´ng tin sáº£n pháº©m:**
   - `ğŸ“§ Chá»‰nh sá»­a thÃ´ng tin sáº£n pháº©m` - Äá»•i tÃªn sáº£n pháº©m
   
   ğŸ’° **GiÃ¡ cáº£:**
   - `ğŸ’° Chá»‰nh sá»­a giÃ¡ sáº£n pháº©m` - Thay Ä‘á»•i giÃ¡ (VND)
   
   ğŸ¦ **Thanh toÃ¡n:**
   - `ğŸ¦ Chá»‰nh sá»­a thÃ´ng tin thanh toÃ¡n`:
     - TÃªn ngÃ¢n hÃ ng
     - Sá»‘ tÃ i khoáº£n  
     - TÃªn chá»§ tÃ i khoáº£n

   ğŸ“ **ThÃ´ng tin liÃªn há»‡:**
   - `ğŸ“ Chá»‰nh sá»­a thÃ´ng tin liÃªn há»‡`:
     - Username admin (hiá»ƒn thá»‹ cho user)
     - Telegram ID admin (Ä‘á»ƒ user liÃªn há»‡)
     - Giá» há»— trá»£ (VD: 8:00 - 22:00)
     - Thá»i gian pháº£n há»“i (VD: 5-15 phÃºt)
     - Cam káº¿t dá»‹ch vá»¥

   ğŸ‘¥ **Quáº£n lÃ½ user:**
   - `ğŸ‘¥ Quáº£n lÃ½ User` - Ban/Unban, Cá»™ng tiá»n cho user, Xem Ä‘Æ¡n hÃ ng

   ğŸ’¸ **Há»‡ thá»‘ng chiáº¿t kháº¥u:**
   - Tá»± Ä‘á»™ng táº¡o Order ID cho má»—i giao dá»‹ch
   - User cÃ³ thá»ƒ nháº­n hoÃ n tiá»n theo sá»‘ lÆ°á»£ng email mua
   - Admin cÃ³ thá»ƒ theo dÃµi táº¥t cáº£ Ä‘Æ¡n hÃ ng vÃ  chiáº¿t kháº¥u
   - `ğŸ’¸ Chá»‰nh sá»­a má»©c chiáº¿t kháº¥u` - Admin thay Ä‘á»•i sá»‘ tiá»n hoÃ n trÃªn tá»«ng má»©c

### ğŸ¯ **Quy trÃ¬nh chá»‰nh sá»­a:**

1. **Chá»n má»¥c cáº§n sá»­a** tá»« menu settings
2. **Nháº­p thÃ´ng tin má»›i** khi bot yÃªu cáº§u
3. **XÃ¡c nháº­n** - Bot sáº½ lÆ°u vÃ  cáº­p nháº­t ngay láº­p tá»©c
4. **Ãp dá»¥ng ngay** - Táº¥t cáº£ chá»©c nÄƒng khÃ¡c sáº½ sá»­ dá»¥ng thÃ´ng tin má»›i

### ğŸ’¾ **LÆ°u trá»¯:**
- CÃ i Ä‘áº·t Ä‘Æ°á»£c lÆ°u trong file `bot_settings.json`
- Tá»± Ä‘á»™ng backup khi thay Ä‘á»•i
- Äá»™c láº­p vá»›i file `config.py` gá»‘c

### âš¡ **TÃ­nh nÄƒng ná»•i báº­t:**
- âœ… Thay Ä‘á»•i **ngay láº­p tá»©c** khÃ´ng cáº§n restart bot
- âœ… **Validation** tá»± Ä‘á»™ng (kiá»ƒm tra Ä‘á»‹nh dáº¡ng)
- âœ… **Persistent** - LÆ°u vÄ©nh viá»…n
- âœ… **User-friendly** - Giao diá»‡n Ä‘Æ¡n giáº£n
- âœ… **Safe** - KhÃ´ng áº£nh hÆ°á»Ÿng code gá»‘c

### ğŸ”„ **VÃ­ dá»¥ thá»±c táº¿:**

**Thay Ä‘á»•i giÃ¡:**
1. Nháº¥n `âš™ï¸ CÃ i Ä‘áº·t` â†’ `ğŸ’° Chá»‰nh sá»­a giÃ¡ sáº£n pháº©m`
2. Nháº­p: `10000`  
3. Bot xÃ¡c nháº­n: âœ… ÄÃ£ cáº­p nháº­t giÃ¡: 10,000 VND/email
4. Táº¥t cáº£ giao dá»‹ch má»›i sá»­ dá»¥ng giÃ¡ má»›i

**Thay Ä‘á»•i thÃ´ng tin ngÃ¢n hÃ ng:**
1. `âš™ï¸ CÃ i Ä‘áº·t` â†’ `ğŸ¦ Chá»‰nh sá»­a thÃ´ng tin thanh toÃ¡n` â†’ `ğŸ¦ Chá»‰nh sá»­a tÃªn ngÃ¢n hÃ ng`
2. Nháº­p: `Vietcombank - NgÃ¢n hÃ ng TMCP Ngoáº¡i thÆ°Æ¡ng Viá»‡t Nam`
3. Bot lÆ°u vÃ  cáº­p nháº­t thÃ´ng tin thanh toÃ¡n ngay

**Thay Ä‘á»•i thÃ´ng tin liÃªn há»‡:**
1. `âš™ï¸ CÃ i Ä‘áº·t` â†’ `ğŸ“ Chá»‰nh sá»­a thÃ´ng tin liÃªn há»‡` â†’ `ğŸ‘¤ Chá»‰nh sá»­a Username Admin`
2. Nháº­p: `admin_support`
3. Bot cáº­p nháº­t username hiá»ƒn thá»‹ cho user ngay láº­p tá»©c

**Quáº£n lÃ½ User:**
1. `ğŸ‘¥ Quáº£n lÃ½ User` â†’ `ğŸ’° Cá»™ng tiá»n cho User`
2. Nháº­p User ID: `123456789`
3. Nháº­p sá»‘ tiá»n: `50000`
4. Bot cá»™ng tiá»n vÃ  thÃ´ng bÃ¡o cho user

**Xem Ä‘Æ¡n hÃ ng vÃ  chiáº¿t kháº¥u:**
1. `ğŸ‘¥ Quáº£n lÃ½ User` â†’ `ğŸ“¦ Xem táº¥t cáº£ Ä‘Æ¡n hÃ ng`
2. Xem danh sÃ¡ch Ä‘Æ¡n hÃ ng vá»›i Order ID, sá»‘ lÆ°á»£ng, tá»•ng tiá»n
3. Theo dÃµi tráº¡ng thÃ¡i chiáº¿t kháº¥u (Ä‘Ã£ claim/chÆ°a claim)

**Chá»‰nh sá»­a má»©c chiáº¿t kháº¥u:**
1. `âš™ï¸ CÃ i Ä‘áº·t` â†’ `ğŸ’¸ Chá»‰nh sá»­a má»©c chiáº¿t kháº¥u`
2. `â• ThÃªm/Sá»­a má»©c chiáº¿t kháº¥u` â†’ Nháº­p sá»‘ lÆ°á»£ng email â†’ Nháº­p sá»‘ tiá»n hoÃ n
3. `â– XÃ³a má»©c chiáº¿t kháº¥u` â†’ Nháº­p sá»‘ lÆ°á»£ng email cáº§n xÃ³a
4. `ğŸ”„ KhÃ´i phá»¥c máº·c Ä‘á»‹nh` â†’ KhÃ´i phá»¥c vá» cÃ i Ä‘áº·t gá»‘c

---

ğŸ‰ **Vá»›i tÃ­nh nÄƒng nÃ y, admin cÃ³ thá»ƒ quáº£n lÃ½ toÃ n diá»‡n mÃ  khÃ´ng cáº§n kiáº¿n thá»©c ká»¹ thuáº­t!**

## ğŸ”§ **CÃ¡c chá»©c nÄƒng quáº£n lÃ½ khÃ¡c:**

### ğŸ‘¥ **Quáº£n lÃ½ User:**
- **Ban/Unban User:** KhÃ³a/má»Ÿ khÃ³a tÃ i khoáº£n user
- **Cá»™ng tiá»n:** ThÃªm tiá»n vÃ o tÃ i khoáº£n user (bonus, hoÃ n tiá»n, etc.)
- **Xem thÃ´ng tin:** Theo dÃµi thÃ´ng tin user, sá»‘ dÆ°, lá»‹ch sá»­ giao dá»‹ch
- **Xem Ä‘Æ¡n hÃ ng:** Quáº£n lÃ½ táº¥t cáº£ Ä‘Æ¡n hÃ ng vá»›i Order ID vÃ  tráº¡ng thÃ¡i chiáº¿t kháº¥u

### ğŸ’¸ **Há»‡ thá»‘ng chiáº¿t kháº¥u má»›i:**
- **Order ID tá»± Ä‘á»™ng:** Má»—i giao dá»‹ch mua email Ä‘á»u cÃ³ Order ID duy nháº¥t
- **Báº£ng má»©c chiáº¿t kháº¥u cÃ³ thá»ƒ chá»‰nh sá»­a:**
  - Admin cÃ³ thá»ƒ thay Ä‘á»•i sá»‘ tiá»n hoÃ n cho tá»«ng má»©c
  - ThÃªm má»©c chiáº¿t kháº¥u má»›i (VD: 60 email = hoÃ n 250,000 VND)
  - XÃ³a má»©c chiáº¿t kháº¥u khÃ´ng cáº§n thiáº¿t
  - KhÃ´i phá»¥c vá» cÃ i Ä‘áº·t máº·c Ä‘á»‹nh
- **User tá»± claim:** User sá»­ dá»¥ng Order ID Ä‘á»ƒ nháº­n chiáº¿t kháº¥u
- **Kiá»ƒm soÃ¡t cháº·t cháº½:** Má»—i Ä‘Æ¡n hÃ ng chá»‰ Ä‘Æ°á»£c claim 1 láº§n, chá»‰ chá»§ Ä‘Æ¡n hÃ ng má»›i claim Ä‘Æ°á»£c

### ğŸ“ **Quáº£n lÃ½ thÃ´ng tin liÃªn há»‡:**
- **Username Admin:** Hiá»ƒn thá»‹ cho user khi cáº§n há»— trá»£
- **Telegram ID:** User cÃ³ thá»ƒ liÃªn há»‡ trá»±c tiáº¿p
- **Giá» há»— trá»£:** ThÃ´ng bÃ¡o thá»i gian admin online
- **Thá»i gian pháº£n há»“i:** Cam káº¿t thá»i gian tráº£ lá»i
- **Cam káº¿t dá»‹ch vá»¥:** MÃ´ táº£ cháº¥t lÆ°á»£ng dá»‹ch vá»¥

### ğŸ’¡ **LÆ°u Ã½ quan trá»ng:**
- âœ… Táº¥t cáº£ thay Ä‘á»•i cÃ³ hiá»‡u lá»±c **ngay láº­p tá»©c**
- âœ… KhÃ´ng cáº§n restart bot hay chá»‰nh sá»­a code
- âœ… Dá»¯ liá»‡u Ä‘Æ°á»£c **backup tá»± Ä‘á»™ng**
- âœ… Interface thÃ¢n thiá»‡n, dá»… sá»­ dá»¥ng
- âœ… **Há»‡ thá»‘ng Order ID & chiáº¿t kháº¥u tá»± Ä‘á»™ng**
- âœ… **Admin cÃ³ thá»ƒ tÃ¹y chá»‰nh má»©c chiáº¿t kháº¥u**
- âš ï¸ Chá»‰ admin má»›i cÃ³ quyá»n truy cáº­p cÃ¡c chá»©c nÄƒng nÃ y

## ğŸ†” **TÃ­nh nÄƒng Order ID & Chiáº¿t kháº¥u:**

### ğŸ¯ **Quy trÃ¬nh hoáº¡t Ä‘á»™ng:**
1. **User mua email** â†’ Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o Order ID (VD: ORD12345678)
2. **Hiá»ƒn thá»‹ káº¿t quáº£** â†’ User nháº­n email + Order ID + thÃ´ng bÃ¡o má»©c chiáº¿t kháº¥u (náº¿u Ä‘á»§ Ä‘iá»u kiá»‡n)
3. **User claim chiáº¿t kháº¥u** â†’ VÃ o menu "ğŸ’¸ Chiáº¿t kháº¥u" â†’ Nháº­p Order ID â†’ Nháº­n tiá»n ngay
4. **Admin theo dÃµi** â†’ Xem táº¥t cáº£ Ä‘Æ¡n hÃ ng, tráº¡ng thÃ¡i chiáº¿t kháº¥u trong panel admin

### ğŸ’¸ **Quáº£n lÃ½ má»©c chiáº¿t kháº¥u:**
1. **Xem báº£ng hiá»‡n táº¡i:** `âš™ï¸ CÃ i Ä‘áº·t` â†’ `ğŸ’¸ Chá»‰nh sá»­a má»©c chiáº¿t kháº¥u` â†’ `ğŸ“Š Xem báº£ng má»©c chiáº¿t kháº¥u`
2. **ThÃªm/Sá»­a má»©c:** `â• ThÃªm/Sá»­a má»©c chiáº¿t kháº¥u` â†’ Nháº­p sá»‘ lÆ°á»£ng â†’ Nháº­p sá»‘ tiá»n
3. **XÃ³a má»©c:** `â– XÃ³a má»©c chiáº¿t kháº¥u` â†’ Nháº­p sá»‘ lÆ°á»£ng cáº§n xÃ³a
4. **KhÃ´i phá»¥c:** `ğŸ”„ KhÃ´i phá»¥c máº·c Ä‘á»‹nh` â†’ Vá» cÃ i Ä‘áº·t gá»‘c

### ğŸ“‹ **VÃ­ dá»¥ cÃ i Ä‘áº·t má»©c chiáº¿t kháº¥u:**
- **ThÃªm má»©c má»›i:** 15 email â†’ 25,000 VND
- **Sá»­a má»©c cÅ©:** 20 email â†’ 50,000 VND (thay vÃ¬ 40,000)
- **XÃ³a má»©c:** XÃ³a má»©c 10 email (khÃ´ng cÃ²n chiáº¿t kháº¥u cho sá»‘ lÆ°á»£ng nhá»)

### ğŸ” **Báº£o máº­t:**
- âœ… Má»—i Order ID chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng **1 láº§n duy nháº¥t**
- âœ… **Chá»‰ chá»§ Ä‘Æ¡n hÃ ng** má»›i cÃ³ thá»ƒ claim chiáº¿t kháº¥u
- âœ… **Validation Ä‘áº§y Ä‘á»§:** Kiá»ƒm tra Order ID, User ID, sá»‘ lÆ°á»£ng email
- âœ… **Transaction log:** Táº¥t cáº£ giao dá»‹ch chiáº¿t kháº¥u Ä‘á»u Ä‘Æ°á»£c ghi láº¡i

## ğŸ“Š **Google Sheets Rate Limit & Tá»‘i Æ°u hÃ³a:**

### âš ï¸ **Vá» Rate Limit:**
- **Giá»›i háº¡n API:** 60 write requests/phÃºt/user
- **Há»‡ thá»‘ng báº£o vá»‡:** Tá»± Ä‘á»™ng delay 2 giÃ¢y giá»¯a cÃ¡c thao tÃ¡c
- **Batch size:** Tá»‘i Ä‘a 3 email/batch Ä‘á»ƒ trÃ¡nh overload
- **Retry logic:** Tá»± Ä‘á»™ng thá»­ láº¡i sau 45-225 giÃ¢y náº¿u bá»‹ rate limit

### ğŸ›¡ï¸ **TÃ­nh nÄƒng báº£o vá»‡ rate limit:**
1. **Monitoring real-time:** Theo dÃµi sá»‘ lÆ°á»£ng requests trong cá»­a sá»• 1 phÃºt
2. **Pre-check:** Kiá»ƒm tra quota trÆ°á»›c khi thá»±c hiá»‡n thao tÃ¡c lá»›n
3. **Auto-delay:** Tá»± Ä‘á»™ng chá» khi gáº§n Ä‘áº¡t giá»›i háº¡n
4. **Smart retry:** TÄƒng thá»i gian chá» dáº§n cho cÃ¡c láº§n retry

### ğŸ’¡ **Khuyáº¿n nghá»‹ cho Admin:**
- âœ… **ThÃªm email theo Ä‘á»£t nhá»:** â‰¤15 email/láº§n
- âœ… **Kiá»ƒm tra tráº¡ng thÃ¡i:** DÃ¹ng menu "ğŸ“Š Tráº¡ng thÃ¡i Google Sheets"
- âœ… **Chá» Ä‘á»£i kiÃªn nháº«n:** KhÃ´ng thÃªm email liÃªn tá»¥c
- âœ… **Theo dÃµi quota:** Xem remaining requests trong status
- âš ï¸ **TrÃ¡nh rush hour:** KhÃ´ng thÃªm hÃ ng trÄƒm email cÃ¹ng lÃºc

### ğŸ”§ **Xá»­ lÃ½ khi gáº·p Rate Limit:**
1. **Chá» 2-5 phÃºt** Ä‘á»ƒ quota tá»± reset
2. **Kiá»ƒm tra tráº¡ng thÃ¡i** Google Sheets
3. **ThÃªm email vá»›i sá»‘ lÆ°á»£ng nhá» hÆ¡n** (â‰¤9 email)
4. **Sá»­ dá»¥ng tÃ­nh nÄƒng batch** tá»± Ä‘á»™ng cá»§a há»‡ thá»‘ng

### ğŸ“ˆ **Monitoring & Troubleshooting:**
- **Menu Admin:** `ğŸ“Š Tráº¡ng thÃ¡i Google Sheets` Ä‘á»ƒ xem real-time status
- **Rate limit info:** Hiá»ƒn thá»‹ sá»‘ requests cÃ²n láº¡i vÃ  thá»i gian reset
- **Error handling:** ThÃ´ng bÃ¡o chi tiáº¿t khi gáº·p lá»—i vÃ  cÃ¡ch kháº¯c phá»¥c
- **Auto-recovery:** Há»‡ thá»‘ng tá»± Ä‘á»™ng phá»¥c há»“i sau khi quota reset

## ğŸ› ï¸ **Troubleshooting & Xá»­ lÃ½ sá»± cá»‘:**

### âš¡ **Bot khÃ´ng pháº£n há»“i hoáº·c lá»—i 409 Conflict:**

**NguyÃªn nhÃ¢n:** Nhiá»u instance bot cháº¡y cÃ¹ng lÃºc hoáº·c webhook conflict

**CÃ¡ch kháº¯c phá»¥c:**
1. **Dá»«ng táº¥t cáº£ bot instances:**
   ```bash
   pkill -f "python.*main.py"
   ```

2. **Chá» 5-10 giÃ¢y** Ä‘á»ƒ webhook clear

3. **Khá»Ÿi Ä‘á»™ng láº¡i bot:**
   ```bash
   python main.py
   ```

4. **Kiá»ƒm tra tráº¡ng thÃ¡i:**
   ```bash
   ps aux | grep "python.*main.py"
   ```

### ğŸ”„ **Rate Limit hoáº·c Google Sheets khÃ´ng pháº£n há»“i:**

**Triá»‡u chá»©ng:** Bot bÃ¡o lá»—i "quota exceeded" hoáº·c khÃ´ng thá»ƒ thÃªm email

**CÃ¡ch xá»­ lÃ½:**
1. **Kiá»ƒm tra tráº¡ng thÃ¡i Google Sheets** qua menu admin
2. **Chá» 2-5 phÃºt** Ä‘á»ƒ quota reset
3. **ThÃªm email vá»›i batch nhá» hÆ¡n** (â‰¤9 email/láº§n)
4. **Kiá»ƒm tra credentials** Google Sheets náº¿u lá»—i kÃ©o dÃ i

### ğŸ’¾ **Database hoáº·c Settings bá»‹ lá»—i:**

**Triá»‡u chá»©ng:** Bot khÃ´ng lÆ°u cÃ i Ä‘áº·t hoáº·c máº¥t dá»¯ liá»‡u user

**CÃ¡ch kháº¯c phá»¥c:**
1. **Kiá»ƒm tra file permissions:**
   ```bash
   ls -la bot_settings.json database.db
   ```

2. **Backup vÃ  khÃ´i phá»¥c:**
   - Settings: Copy `bot_settings.json`
   - Database: Copy `database.db`

3. **Reset vá» máº·c Ä‘á»‹nh:** XÃ³a `bot_settings.json` Ä‘á»ƒ khÃ´i phá»¥c cÃ i Ä‘áº·t gá»‘c

### ğŸ” **User khÃ´ng thá»ƒ sá»­ dá»¥ng bot:**

**NguyÃªn nhÃ¢n cÃ³ thá»ƒ:**
- User bá»‹ ban
- Database lá»—i
- Bot restart vÃ  máº¥t session

**CÃ¡ch kiá»ƒm tra:**
1. **Xem thÃ´ng tin user** qua menu admin
2. **Kiá»ƒm tra tráº¡ng thÃ¡i ban/unban**
3. **Reset user session** báº±ng cÃ¡ch user gá»­i `/start`

### ğŸ“± **Keyboard khÃ´ng hiá»ƒn thá»‹ Ä‘Ãºng:**

**CÃ¡ch sá»­a:**
1. **User gá»­i `/start`** Ä‘á»ƒ refresh keyboard
2. **Admin kiá»ƒm tra cÃ i Ä‘áº·t** keyboard trong bot settings
3. **Restart bot** náº¿u cáº§n thiáº¿t

### ğŸ”§ **Emergency Reset:**

**Khi bot bá»‹ lá»—i nghiÃªm trá»ng:**
1. **Backup dá»¯ liá»‡u quan trá»ng:**
   ```bash
   cp database.db database_backup.db
   cp bot_settings.json settings_backup.json
   ```

2. **Reset bot:**
   ```bash
   pkill -f "python.*main.py"
   rm -f bot_settings.json  # Reset settings
   python main.py
   ```

3. **Cáº¥u hÃ¬nh láº¡i** tá»« Ä‘áº§u qua menu admin

### ğŸ”§ **Lá»—i keyboard functions khÃ´ng tÃ¬m tháº¥y:**

**Triá»‡u chá»©ng:** Bot bÃ¡o lá»—i "name 'get_xxx_keyboard' is not defined"

**NguyÃªn nhÃ¢n:** Thiáº¿u function keyboard trong file keyboards.py

**CÃ¡ch kháº¯c phá»¥c:**
1. **Kiá»ƒm tra log lá»—i** Ä‘á»ƒ xÃ¡c Ä‘á»‹nh function nÃ o bá»‹ thiáº¿u
2. **TÃ¬m function trong backup files** (keyboards_broken.py)
3. **Copy function vÃ o keyboards.py** chÃ­nh
4. **Restart bot** Ä‘á»ƒ Ã¡p dá»¥ng thay Ä‘á»•i

**VÃ­ dá»¥ lá»—i phá»• biáº¿n:**
- `get_admin_deposit_approval_keyboard` - Keyboard duyá»‡t náº¡p tiá»n
- `get_deposit_confirm_keyboard` - Keyboard xÃ¡c nháº­n náº¡p tiá»n  
- `get_discount_management_keyboard` - Keyboard quáº£n lÃ½ chiáº¿t kháº¥u

### ğŸ“ **Khi cáº§n há»— trá»£:**

**ThÃ´ng tin cáº§n cung cáº¥p:**
- Log lá»—i cá»¥ thá»ƒ (copy tá»« terminal)
- HÃ nh Ä‘á»™ng Ä‘ang thá»±c hiá»‡n khi gáº·p lá»—i
- Thá»i gian xáº£y ra lá»—i
- User ID gáº·p váº¥n Ä‘á» (náº¿u cÃ³)

**Log files quan trá»ng:**
- `bot.log` - Log chÃ­nh cá»§a bot
- Terminal output khi cháº¡y `python main.py`
- Error messages trong Telegram

### ğŸ“Š **Monitoring vÃ  PhÃ¢n tÃ­ch Log:**

**Log locations:**
- **Terminal output:** Real-time khi cháº¡y `python main.py`
- **Nohup log:** `bot.log` khi cháº¡y background
- **System log:** `/var/log/` cho system-level issues

**Log levels quan trá»ng:**
- **INFO:** Hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng (user actions, API calls)
- **WARNING:** Cáº£nh bÃ¡o (rate limit, retry attempts)
- **ERROR:** Lá»—i cáº§n xá»­ lÃ½ (missing functions, API failures)

**Commands há»¯u Ã­ch:**
```bash
# Xem log real-time
tail -f bot.log

# TÃ¬m lá»—i trong log
grep "ERROR" bot.log | tail -20

# Xem rate limit issues
grep "quota exceeded\|rate_limit" bot.log

# Monitor bot process
watch "ps aux | grep python.*main.py"
```

**Thá»‘ng kÃª tá»« log:**
- User activity: `grep "from user" bot.log | wc -l`
- Error count: `grep "ERROR" bot.log | wc -l`
- Rate limit events: `grep "Rate limit" bot.log | wc -l`

### ğŸš€ **Performance Optimization:**

**Bot Performance:**
- **Memory usage:** Typically 50-100MB RAM
- **Response time:** <2s cho most operations
- **Concurrent users:** Supports 50+ simultaneous users
- **Database size:** Optimized for 10k+ users, 100k+ transactions

**Optimization tips:**
1. **Regular cleanup:**
   ```bash
   # Clean old logs
   find . -name "*.log" -mtime +7 -delete
   
   # Compact database periodically  
   sqlite3 database.db "VACUUM;"
   ```

2. **Monitor resource usage:**
   ```bash
   # Check memory usage
   ps aux | grep python | awk '{print $6}'
   
   # Check disk space
   df -h
   ```

3. **Rate limit management:**
   - Keep batch sizes small (â‰¤15 items)
   - Monitor quota usage via admin panel
   - Schedule heavy operations during off-peak hours

### ğŸ¯ **Best Practices cho Admin:**

**Daily Operations:**
- âœ… Kiá»ƒm tra tráº¡ng thÃ¡i Google Sheets (morning)
- âœ… Review pending deposits (2-3 times/day)  
- âœ… Monitor error logs (evening)
- âœ… Check user feedback vÃ  support requests

**Weekly Maintenance:**
- ğŸ”§ Database vacuum and backup
- ğŸ“Š Review performance metrics
- ğŸ”„ Update discount rates náº¿u cáº§n
- ğŸ“ˆ Analyze sales vÃ  user activity

**Monthly Tasks:**
- ğŸ’¾ Full system backup
- ğŸ“‹ Review vÃ  update admin guide
- ğŸ” Security audit (credentials, permissions)
- ğŸ“ˆ Performance analysis vÃ  optimization

**Emergency Response:**
- ğŸš¨ Keep backup credentials ready
- ğŸ“ Document escalation procedures  
- ğŸ”„ Test recovery procedures monthly
- ğŸ“± Setup monitoring alerts náº¿u possible
